本节介绍`DownloadKit`对象相关设置。

## ✅️️ 使用方法

### 📌 全局设置

使用`DownloadKit`对象的`set.xxxx()`方法，可对各种允许参数进行设置。

这种方法设置的参数时全局有效的，之后新建的任务会默认使用。

```python
from DownloadKit import DownloadKit

d = DownloadKit()
d.set.block_size('10m')  # 设置分块大小
```

---

### 📌 每个任务独立设置

每次新建任务时，可设置当前项目有效的设置，覆盖全局设置。

```python
from DownloadKit import DownloadKit

d = DownloadKit()
d.set.goal_path('tmp1')  # 设置全局保存路径

d.add(url, goal_path='tmp2')  # 创建任务时指定保存路径
```

---

## ✅️️ 运行设置

### 📌 `set.driver()`

此方法用于设置提供下载连接信息的页面或链接对象。

支持 DrissionPage 所有页面对象、`Session`对象、`SessionOptions`对象。

程序可从传入的对象中自动获取登录信息，如传入页面对象，还能自动设置`Referer`参数。

|   参数名称   |                                                       类型                                                       | 默认值 | 说明          |
|:--------:|:--------------------------------------------------------------------------------------------------------------:|:---:|-------------|
| `driver` | `Session`<br>`SessionOptions`<br>`ChromiumPage`<br>`SessionPage`<br>`ChromiumTab`<br>`WebPage`<br>`WebPageTab` | 必填  | 用于提供连接信息的对象 |

**返回：**`None`

---

### 📌 `set.goal_path()`

此方法用于设置文件保存路径。

|    参数名称     |       类型        | 默认值 | 说明     |
|:-----------:|:---------------:|:---:|--------|
| `goal_path` | `str`<br>`Path` | 必填  | 文件保存路径 |

**返回：**`None`

---

### 📌 `set.if_file_exists()`

此方法用于设置路径存在同名文件时的处理方式。

可选`'skip'`, `'rename'`, `'overwrite'`, `'add'`。

|  参数名称  |  类型   | 默认值 | 说明      |
|:------:|:-----:|:---:|---------|
| `mode` | `str` | 必填  | 处理方式字符串 |

- `skip`：跳过，不下载
- `overwrite`：覆盖原有文件
- `rename`：以在后面添加序号的方式给新文件重命名
- `add`：在原有文件末尾追加内容

**返回：**`None`

---

### 📌 `set.if_file_exists.xxxx()`

这几个方法用于设置路径存在同名文件时的处理方式。

效果与`set.if_file_exists()`一致。

- `skip()`：跳过，不下载
- `overwrite()`：覆盖原有文件
- `rename()`：以在后面添加序号的方式给新文件重命名
- `add()`：在原有文件末尾追加内容

**示例：**

```python
from DownloadKit import DownloadKit

d = DownloadKit()
d.set.if_file_exists.skip()
```

---

### 📌 `set.roads()`

此方法用于设置可同时运行的线程数。

| 参数名称  |  类型   | 默认值 | 说明   |
|:-----:|:-----:|:---:|------|
| `num` | `int` | 必填  | 线程数量 |

**返回：**`None`

---

### 📌 `set.retry()`

此方法用于设置连接失败时重试次数。

|  参数名称   |  类型   | 默认值 | 说明   |
|:-------:|:-----:|:---:|------|
| `times` | `int` | 必填  | 重试次数 |

**返回：**`None`

---

### 📌 `set.interval()`

此方法用于设置连接失败时重试间隔。

|   参数名称    |   类型    | 默认值 | 说明           |
|:---------:|:-------:|:---:|--------------|
| `seconds` | `float` | 必填  | 连接失败时重试间隔（秒） |

**返回：**`None`

---

### 📌 `set.timeout()`

此方法用于设置连接超时时间。

|   参数名称    |   类型    | 默认值 | 说明      |
|:---------:|:-------:|:---:|---------|
| `seconds` | `float` | 必填  | 超时时间（秒） |

**返回：**`None`

---

### 📌 `set.split()`

此方法用于设置大文件是否分块下载。

|   参数名称   |   类型   | 默认值 | 说明         |
|:--------:|:------:|:---:|------------|
| `on_off` | `bool` | 必填  | `bool`代表开关 |

**返回：**`None`

---

### 📌 `set.block_size()`

此方法用于设置设置分块大小。

|  参数名称  |       类型       | 默认值 | 说明                              |
|:------:|:--------------:|:---:|---------------------------------|
| `size` | `str`<br>`int` | 必填  | 可接收`int`和`str`形式，接收`int`时以字节为单位；接收`str`时格式有：`'10b'`、`'10k'`、`'10m'`、`'10g'`四种，不区分大小写 |

**返回：**`None`

---

### 📌 `set.proxies()`

此方法用于设置代理地址及端口，例：'127.0.0.1:1080'。

|  参数名称   |  类型   |  默认值   | 说明            |
|:-------:|:-----:|:------:|---------------|
| `http`  | `str` | `None` | http 代理地址及端口  |
| `https` | `str` | `None` | https 代理地址及端口 |

**返回：**`None`

---

## ✅️️ 日志设置

日志设置方法在`set.log`属性中。

### 📌 `set.log.path()`

此方法用于设置日志文件路径。

|  参数名称  |       类型        | 默认值 | 说明   |
|:------:|:---------------:|:---:|------|
| `path` | `str`<br>`Path` | 必填  | 文件路径 |

**返回：**`None`

---

### 📌 `set.log.print_all()`

此方法用于设置打印所有任务信息。

**参数：** 无

**返回：**`None`

---

### 📌 `set.log.print_failed()`

此方法用于设置打印失败的任务。

**参数：** 无

**返回：**`None`

---

### 📌 `set.log.print_nothing()`

此方法用于设置不打印任何信息。

**参数：** 无

**返回：**`None`

---

### 📌 `set.log.log_all()`

此方法用于记录打印所有任务信息到文件。

**参数：** 无

**返回：**`None`

---

### 📌 `set.log.log_failed()`

此方法用于设置记录失败的任务到文件。

**参数：** 无

**返回：**`None`

---

### 📌 `set.log.log_nothing()`

此方法用于设置不记录任何信息到文件。

**参数：** 无

**返回：**`None`

---